version: 1.0
runtime: nodejs22

build:
  commands:
    build:
      - echo "ğŸŸ¢ Checking Node version..."
      - node -v
      - echo "ğŸŸ¢ Installing dependencies..."
      - npm ci || npm install --include=dev
      - echo "ğŸŸ¢ Building Vite app..."
      - npm run build --verbose || (echo "âŒ Build failed â€” showing folder contents:" && ls -R && cat /var/log/* || true)
      - echo "ğŸŸ¢ Listing dist contents..."
      - ls -la dist || echo "âŒ dist folder not found!"

run:
  command: node server.js
  network:
    port: 8080
